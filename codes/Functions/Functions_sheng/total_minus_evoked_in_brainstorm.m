function total_minus_evoked_in_brainstorm(Subject, condition)
%   This function calculated the induced signal by using
%   total signal minus evoked signal, which can be generated
%   by averaging all signals.
%
%=================================================
%   input:
%       Subject     -   Subject name
%                       
%       condition   -   condition name
%==================================================
%   example:
%
%   Subject     =   'Camera_06'
%   
%   condition   =   'S1_Red'
%---------------------------------------------------
%
%   Or call the function in outer for loop as
%   
%     conditions = {{S1_Red},{S1_Blue},{S1_t1},{S2_t2}};
%     
%     for i=1:length(conditions)
%         total_minus_evoked_in_brainstorm('Camera_06',conditions{i});
%     end
%     
%===================================================
%
%   version 1.0 -- Dec./2015
%   
%   written by Sheng Qin(shengqin [AT] mit (DOT) edu)
%

brainstorm_db = '/dataslow/sheng/Camera/brainstorm_db/camera/data/';
%Subject = 'Camera_06';
%condition = 'S1_Easy_10_34';

TotalTrials = dir([brainstorm_db Subject '/' condition '/data*trial*.mat']);
EvokedTrial = dir([brainstorm_db Subject '/' condition '/data*average*.mat']);

% Input files
sFiles = {};
for trials = 1:size(TotalTrials)
    sFiles{trials} = [Subject '/' condition '/' TotalTrials(trials).name];
end

sFiles2 = {};
for trials = 1:size(TotalTrials)
    sFiles2{trials} = [Subject '/' condition '/' EvokedTrial(1).name];
end

% Input files
% sFiles = {...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial001.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial002.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial003.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial004.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial005.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial006.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial007.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial008.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial009.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial010.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial011.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial012.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial013.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial014.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial015.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial016.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial017.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial018.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial019.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial020.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial021.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial022.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial023.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial024.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial025.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial026.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial027.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial028.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial029.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial030.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial031.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial032.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial033.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial034.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial035.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial036.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial037.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial038.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial039.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial040.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial041.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial042.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial043.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial044.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial045.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial046.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial047.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial048.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial049.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial050.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial051.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial052.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial053.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial054.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial055.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial056.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial057.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial058.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial059.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial060.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial061.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial062.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial063.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial064.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial065.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial066.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial067.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial068.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial069.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial070.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial071.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial072.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial073.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial074.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial075.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial076.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial077.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial078.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial079.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial080.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial081.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial082.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial083.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial084.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial085.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial086.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial087.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial088.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial089.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial090.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial091.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial092.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial093.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial094.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial095.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial096.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial097.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial098.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial099.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial100.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial101.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial102.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial103.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial104.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial105.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial106.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial107.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial108.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial109.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial110.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial111.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial112.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial113.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial114.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial115.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial116.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial117.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial118.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial119.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial120.mat', ...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_trial121.mat'};
% sFiles2 = {...
%     'Camera_06/S1_Easy_10_34/data_S1_Easy_10_34_average_151222_1518.mat'};

% Start a new report
bst_report('Start', sFiles);

% Process: Difference: A-B
sFiles = bst_process('CallProcess', 'process_diff_ab', sFiles, sFiles2);

% Save and display report
ReportFile = bst_report('Save', sFiles);
bst_report('Open', ReportFile);

